version: 1
shathel-stack:
  gav: git@github.com/s4s0l/shathel-stacks:minio:$version
  deployName: minio
  mandatoryEnvs:
    SHATHEL_ENV_MINIO_ACCESS_KEY: minio access key
    SHATHEL_ENV_MINIO_SECRET_KEY: minio secret key
  dependencies:
    git@github.com/s4s0l/shathel-stacks:rexray:$version:
  enrichers:
      addNetwork:
        target: DEPS
        inline: >
          compose.addExternalNetworkAndAttachAllServices("minio_minionet")    
      addConnectionUrl:
        target: DEPS
        inline: |
          env['AWS_ENDPOINT_URL']='http://minio_standalone:9000'
          env['MINIO_STACK_HOST']='minio_standalone'
          env['MINIO_STACK_PORT']='9000'          
